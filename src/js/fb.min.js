import{initializeApp}from"firebase/app";import{getAuth,connectAuthEmulator}from"firebase/auth";const firebaseConfig={apiKey:import.meta.env.VITE_FIREBASE_API_KEY,authDomain:import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,projectId:import.meta.env.VITE_FIREBASE_PROJECT_ID,storageBucket:import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:import.meta.env.VITE_FIREBASE_APP_ID},app=initializeApp(firebaseConfig);export const auth=getAuth(app);if("localhost"===window.location.hostname&&"5173"==window.location.port){const AUTH_PORT=9099,showEmulatorError=()=>{const errorDiv=document.createElement("div");errorDiv.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      background: #dc3545;\n      color: white;\n      padding: 1rem;\n      text-align: center;\n      font-family: system-ui;\n      z-index: 9999;\n    ",errorDiv.innerHTML="\n      ⚠️ Firebase Auth emulator not running<br>\n      Run <code>firebase emulators:start</code> in your terminal\n    ",document.body.prepend(errorDiv)},checkEmulator=async port=>{try{return(await fetch(`http://localhost:${port}`,{method:"GET",timeout:2e3})).ok}catch{return!1}};(async()=>{try{return await checkEmulator(AUTH_PORT)?(connectAuthEmulator(auth,`http://localhost:${AUTH_PORT}`,{disableWarnings:!0}),console.log("✅ Connected to Firebase Auth emulator"),!0):(console.warn("\n          ⚠️ Firebase Auth emulator not running\n          Run this command in your terminal:\n          $ firebase emulators:start\n          \n          Make sure you have the required dependencies installed:\n          $ npm install\n        "),showEmulatorError(),!1)}catch(error){return console.error("❌ Failed to connect to emulator:",error.message),!1}})().catch((error=>{console.error("❌ Emulator initialization failed:",error)}))}